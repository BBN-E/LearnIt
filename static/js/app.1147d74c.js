(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,g=[];u<s.length;u++)i=s[u],a[i]&&g.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(g.length)g.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("d1e7");var r=n("2b0e"),a=n("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("v-content",{staticStyle:{width:"100%",height:"100vh"}},[n("OntologyView"),n("v-toolbar",[n("v-toolbar-title",[e._v("LearnIt KB Builder")]),n("span",{staticClass:"title align-content-center pl-4 pr-2"},[e._v(e._s(e.targetName))]),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("v-btn",{attrs:{flat:"",disabled:e.targetName.length<1},on:{click:function(t){return e.clearUnaccept()}}},[e._v("Clear Unaccept")]),n("v-btn",{attrs:{flat:"",disabled:e.targetName.length<1},on:{click:function(t){return e.clearAll()}}},[e._v("Clear Everything")]),n("v-btn",{attrs:{flat:"",disabled:e.targetName.length<1},on:{click:function(t){return e.loadTargetAndScoreTable()}}},[e._v("Refresh")]),n("v-btn",{attrs:{flat:""},on:{click:function(t){return e.openOntologyPanel()}}},[e._v("Open Ontology Panel")])],1),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{flat:""},on:{click:function(t){return e.saveProgress()}}},[e._v("Save Progress")])],1)],1),n("splitpanes",{staticStyle:{display:"flex","flex-direction":"column",height:"93%"},attrs:{horizontal:""}},[n("TargetAndScoreTable"),n("InstancePanel")],1),n("v-snackbar",{attrs:{"multi-line":"",timeout:e.pendingSnackbarTimeout,top:"",color:"info"},model:{value:e.pendingSnackbar,callback:function(t){e.pendingSnackbar=t},expression:"pendingSnackbar"}},[e._v("\n\t\t\t"+e._s(e.pendingSnackbarText)+"\n\t\t\t"),n("v-btn",{attrs:{color:"white",flat:""},on:{click:function(t){e.pendingSnackbar=!1}}},[e._v("\n\t\t\t\tClose\n\t\t\t")])],1),n("v-snackbar",{attrs:{"multi-line":"",timeout:e.errorSnackbarTimeout,top:"",color:"error"},model:{value:e.errorSnackbar,callback:function(t){e.errorSnackbar=t},expression:"errorSnackbar"}},[e._v("\n\t\t\t"+e._s(e.errorSnackbarText)+"\n\t\t\t"),n("v-btn",{attrs:{color:"white",flat:""},on:{click:function(t){e.errorSnackbar=!1}}},[e._v("\n\t\t\t\tClose\n\t\t\t")])],1)],1)],1)},i=[],s=n("f499"),c=n.n(s),l=n("bc3a"),d=n.n(l),u="",g={baseURL:u,MaxNumberOfPatternsAndSeeds:1e3,MaxNumberOfPatterns:1e3,MaxNumberOfSeeds:1e3,MaxNumberOfInstance:50,MaxNumberOfInstanceFromOTHER:250,patternScoreTableDisplayableKeys:["precision","recall","confidence","frequency"],seedScoreTableDisplayableKeys:["confidence","frequency"],patternScoreTableSortableKeys:[{uitext:"precision",backendtext:"patternPrecision"},{uitext:"weightedPrecision",backendtext:"patternWeightedPrecision"},{uitext:"frequency",backendtext:"patternFrequency"}],seedScoreTableSortableKeys:[{uitext:"weightedPrecision",backendtext:"seedWeightedPrecision"},{uitext:"precision",backendtext:"seedPrecision"},{uitext:"frequency",backendtext:"seedFrequency"}],instanceFrozenGoodStr:"FROZEN_GOOD",instanceFrozenBadStr:"FROZEN_BAD",instanceNoFrozenStr:"NO_FROZEN",OTHERTargetName:"OTHER"},f={getOntology:function(){return d()({baseURL:g.baseURL,url:"/ontology/current_tree",method:"GET"})},addOntologyNode:function(e,t,n,r,a){return d()({baseURL:g.baseURL,url:"/ontology/add_target",method:"POST",params:{parentNodeId:e,id:t,description:n,isUnaryTarget:r,isEventTarget:a}})},addTargetAndScoreTable:function(e,t,n,r,a,o,i){return d()({baseURL:g.baseURL,url:"/init/add_target",method:"POST",params:{name:e,description:t,slot0EntityTypes:n,slot1EntityTypes:r,symmetric:a,isUnaryTarget:o,isEventTarget:i}})},loadTargetAndScoreTable:function(e){return d()({baseURL:g.baseURL,url:"/init/get_extractor",method:"POST",params:{relation:e}})},getPatternsByKeyword:function(e,t,n){return d()({baseURL:g.baseURL,url:"/init/get_patterns_by_keyword",method:"POST",params:{target:e,keyword:t,amount:n}})},getSeedsBySlot:function(e,t,n,r){return d()({baseURL:g.baseURL,url:"/init/get_seeds_by_slots",method:"POST",params:{target:e,slot0:t,slot1:n,amount:r}})},getPatternInstances:function(e,t,n,r){return d()({baseURL:g.baseURL,url:"/init/get_pattern_instances",method:"POST",params:{target:e,pattern:t,amount:n,fromOther:r}})},getSeedInstances:function(e,t,n,r){return d()({baseURL:g.baseURL,url:"/init/get_seed_instances",method:"POST",params:{target:e,seed:t,amount:n,fromOther:r}})},proposeSeeds:function(e){return d()({baseURL:g.baseURL,url:"/init/propose_seeds_new",method:"POST",params:{target:e}})},proposeLearnitPatterns:function(e){return d()({baseURL:g.baseURL,url:"/init/propose_patterns_new",method:"POST",params:{target:e}})},getSimilarSeeds:function(e){return d()({baseURL:g.baseURL,url:"/init/similar_seeds",method:"POST",params:{target:e}})},getSimilarLearnitPatterns:function(e){return d()({baseURL:g.baseURL,url:"/init/similar_patterns",method:"POST",params:{target:e}})},markSeed:function(e,t,n,r){return n?d()({baseURL:g.baseURL,url:"/init/add_seeds",method:"POST",params:{target:e,seeds:[t],quality:r?"good":"bad"}}):d()({baseURL:g.baseURL,url:"/init/remove_seed",method:"POST",params:{target:e,seed:t}})},markPattern:function(e,t,n,r){return n?d()({baseURL:g.baseURL,url:"/init/add_pattern",method:"POST",params:{target:e,pattern:t,quality:r?"good":"bad"}}):d()({baseURL:g.baseURL,url:"/init/remove_pattern",method:"POST",params:{target:e,pattern:t}})},saveProgress:function(){return d()({baseURL:g.baseURL,url:"/init/save_progress",method:"POST"})},clearUnknown:function(e){return d()({baseURL:g.baseURL,url:"/init/clear_unknown",method:"POST",params:{target:e}})},clearAll:function(e){return d()({baseURL:g.baseURL,url:"/init/clear_all",method:"POST",params:{target:e}})},markInstance:function(e,t,n){return d()({baseURL:g.baseURL,url:"/init/add_instance",method:"POST",params:{target:e,instance:t,quality:n}})},unMarkInstance:function(e,t){return d()({baseURL:g.baseURL,url:"/init/remove_instance",method:"POST",params:{target:e,instance:t}})},markInstanceFromOther:function(e,t){return d()({baseURL:g.baseURL,url:"/init/mark_instance_from_other",method:"POST",params:{target:e,instance:t}})},markInstanceByPatternFromOther:function(e,t){return d()({baseURL:g.baseURL,url:"/init/mark_pattern_from_other",method:"POST",params:{target:e,pattern:t}})},markInstanceBySeedFromOther:function(e,t){return d()({baseURL:g.baseURL,url:"/init/mark_seed_from_other",method:"POST",params:{target:e,seed:t}})}},h=(n("6b54"),n("6ee6")),b=n("795b"),v=n.n(b),y=n("a4bb"),m=n.n(y),T=(n("ac6a"),n("d225")),p=n("b0b4"),S=n("308d"),O=n("6bb5"),k=n("4e2b"),_=function(){function e(t,n,r,a){Object(T["a"])(this,e),this.key=t,this.originalObjJson=n,this.displayableStr=r,this.originalScoreTable=a}return Object(p["a"])(e,[{key:"toString",value:function(){return this.displayableStr}},{key:"getOriginalObjJson",value:function(){return this.originalObjJson}},{key:"getOriginalScoreTable",value:function(){return this.originalScoreTable}},{key:"getKey",value:function(){return this.key}}]),e}(),P=function(e){function t(e,n){Object(T["a"])(this,t);var r="("+e.slot0.text[0]+","+e.slot1.text[0]+")",a=c()(e);return Object(S["a"])(this,Object(O["a"])(t).call(this,a,e,r,n))}return Object(k["a"])(t,e),Object(p["a"])(t,null,[{key:"fromJson",value:function(e,n){return new t(e,n)}}]),t}(_),w=function(e,t,n){return function(r,a){var o=n[r].getOriginalScoreTable(),i=n[a].getOriginalScoreTable(),s="undefined"===typeof o[e]?0:o[e],c="undefined"===typeof i[e]?0:i[e];if(t)return c-s}},E=function(e,t,n){return function(r){var a=n[r].getOriginalScoreTable();if(e){var o="undefined"===typeof a["score"]?0:a["score"];return t?a.frozen&&o>=.5:a.frozen&&o<.5}return!a.frozen}},M={Seed:P,loadSeedScoreTable:function(e){var t={};for(var n in e.entries){var r=e.entries[n],a=P.fromJson(e.keyList[r.key],e.valList[r.value]);t[a.key]=a}return t},sortSeedList:w,filterSeedList:E},N=function(e){function t(e,n){Object(T["a"])(this,t);var r=c()(e),a=e.toIDString;return Object(S["a"])(this,Object(O["a"])(t).call(this,r,e,a,n))}return Object(k["a"])(t,e),Object(p["a"])(t,null,[{key:"fromJson",value:function(e,n){return new t(e,n)}}]),t}(_),x=function(e,t,n){return function(r,a){var o=n[r].getOriginalScoreTable(),i=n[a].getOriginalScoreTable(),s="undefined"===typeof o[e]?0:o[e],c="undefined"===typeof i[e]?0:i[e];if(t)return c-s}},A=function(e,t,n){return function(r){var a=n[r].getOriginalScoreTable();if(e){var o="undefined"===typeof a["precision"]?0:a["precision"];return t?a.frozen&&o>=.5:a.frozen&&o<.5}return!a.frozen}},L={normalizedPattern:N,loadPatternScoreTable:function(e){var t={};for(var n in e.entries){var r=e.entries[n],a=N.fromJson(e.keyList[r.key],e.valList[r.value]);t[a.key]=a}return t},sortPatternList:x,filterPatternList:A};r["default"].use(a["a"]);var R=!1,I=new a["a"].Store({strict:R,state:{targetAndScoreTable:{patternScoreTable:{},seedScoreTable:{}},targetName:"",targetAndScoreTableChosenItem:{key:"",type:null,learnitObservationObj:null},displayOntologyPanel:!1,siblingOntologyTypes:[],pendingMessage:"",errorMessage:""},getters:{targetName:function(e){return e.targetName},patternScoreTable:function(e){return e.targetAndScoreTable.patternScoreTable},seedScoreTable:function(e){return e.targetAndScoreTable.seedScoreTable},patternListInTargetAndScoreTable:function(e,t){return m()(t.patternScoreTable)},seedListInTargetAndScoreTable:function(e,t){return m()(t.seedScoreTable)},patternScore:function(e,t){return function(e){return t.patternScoreTable[e]}},seedScore:function(e,t){return function(e){return t.seedScoreTable[e]}},targetAndScoreTableChosenItem:function(e){return e.targetAndScoreTableChosenItem},displayOntologyPanel:function(e){return e.displayOntologyPanel},siblingOntologyTypes:function(e){return e.siblingOntologyTypes},pendingMessage:function(e){return e.pendingMessage},errorMessage:function(e){return e.errorMessage}},mutations:{updateTargetAndScoreTable:function(e,t){e.targetAndScoreTable=t.targetAndScoreTable},updateMatchInfoDisplay:function(e,t){e.targetAndScoreTableChosenItem={key:t.key,type:t.type,learnitObservationObj:t.learnitObservationObj}},markSeed:function(e,t){var n=e.targetAndScoreTable.seedScoreTable[t.seedKey].getOriginalScoreTable();n.frozen=t.isFrozen,n.score=t.isGood?.95:.05},markPattern:function(e,t){var n=e.targetAndScoreTable.patternScoreTable[t.patternKey].getOriginalScoreTable();n.frozen=t.isFrozen,n.precision=t.isGood?.95:.05},toggleDisplayOntologyPanel:function(e){e.displayOntologyPanel=!e.displayOntologyPanel},changeTargetName:function(e,t){e.targetName=t.targetName},changeSiblingOntologyTypes:function(e,t){e.siblingOntologyTypes=t.siblingOntologyTypes},changePendingMessage:function(e,t){e.pendingMessage=t.pendingMessage},changeErrorMessage:function(e,t){e.errorMessage=t.errorMessage}},actions:{loadTargetAndScoreTable:function(e,t){var n=e.commit,r=e.dispatch;return new v.a(function(e,a){var o=t.targetName;n("updateMatchInfoDisplay",{key:"",type:null,learnitObservationObj:null}),f.loadTargetAndScoreTable(o).then(function(t){var r=L.loadPatternScoreTable(t.data.patternScores.data),a=M.loadSeedScoreTable(t.data.seedScores.data),i={patternScoreTable:r,seedScoreTable:a};n("changeTargetName",{targetName:o}),n("updateTargetAndScoreTable",{targetAndScoreTable:i}),n("updateMatchInfoDisplay",{key:"",type:null,learnitObservationObj:null}),e()},function(n){!0===t.tryCreateTarget?(t.tryCreateTarget=!1,r("addTargetAndScoreTable",t).then(function(){r("loadTargetAndScoreTable",t).then(function(){e()},function(e){a(e)})},function(e){a(e)})):a(n)})})},addTargetAndScoreTable:function(e,t){return Object(h["a"])(e),new v.a(function(e,n){f.addTargetAndScoreTable(t.targetName,t.description,t.slot0EntityTypes,t.slot1EntityTypes,t.symmetric,t.isUnaryTarget,t.isEventTarget).then(function(){e()},function(){n()})})},markSeed:function(e,t){var n=e.commit,r=e.getters;f.markSeed(r.targetName,t.seed.getOriginalObjJson(),t.isFrozen,t.isGood).then(function(){n("markSeed",{seedKey:t.seed.getKey(),isFrozen:t.isFrozen,isGood:t.isGood})},function(e){n("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},markPattern:function(e,t){var n=e.commit,r=e.getters;f.markPattern(r.targetName,t.pattern.toString(),t.isFrozen,t.isGood).then(function(){n("markPattern",{patternKey:t.pattern.getKey(),isFrozen:t.isFrozen,isGood:t.isGood})},function(e){n("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})}}}),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{column:""}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.ontologyPanelToggle,callback:function(t){e.ontologyPanelToggle=t},expression:"ontologyPanelToggle"}},[n("v-card",[n("v-toolbar",{attrs:{color:"teal",dark:""}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.toggleOntologyPanel()}}},[n("v-icon",[e._v("close")])],1),n("v-toolbar-title",[e._v("Ontology Panel")]),n("v-spacer")],1),n("v-card-text",[n("v-layout",{attrs:{column:""}},[n("span",{staticClass:"subheading"},[e._v("Event "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleOntologyTree("unaryEvent")}}},[n("v-icon",[e._v(e._s(e.toggleUnaryEvent?"expand_more":"expand_less"))])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(e.unaryEvent,t)}}},[n("v-icon",[e._v("add")])],1)],1),n("v-flex",{staticStyle:{"overflow-y":"scoll"}},[n("v-treeview",{attrs:{items:e.unaryEvent.children,"item-key":"_id","item-text":"originalKey",open:e.unaryEvent.openNodes},scopedSlots:e._u([{key:"append",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(r,t)}}},[n("v-icon",[e._v("add")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeTarget(r)}}},[n("v-icon",[e._v("forward")])],1)]}}])})],1),n("span",{staticClass:"subheading"},[e._v("Event-Event Relation "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleOntologyTree("binaryEvent")}}},[n("v-icon",[e._v(e._s(e.toggleBinaryEvent?"expand_more":"expand_less"))])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(e.binaryEvent,t)}}},[n("v-icon",[e._v("add")])],1)],1),n("v-flex",{staticStyle:{"overflow-y":"scoll"}},[n("v-treeview",{attrs:{items:e.binaryEvent.children,"item-key":"_id","item-text":"originalKey",open:e.binaryEvent.openNodes},scopedSlots:e._u([{key:"append",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(r,t)}}},[n("v-icon",[e._v("add")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeTarget(r)}}},[n("v-icon",[e._v("forward")])],1)]}}])})],1),n("span",{staticClass:"subheading"},[e._v("Entity "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleOntologyTree("unaryEntity")}}},[n("v-icon",[e._v(e._s(e.toggleUnaryEntity?"expand_more":"expand_less"))])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(e.unaryEntity,t)}}},[n("v-icon",[e._v("add")])],1)],1),n("v-flex",{staticStyle:{"overflow-y":"scoll"}},[n("v-treeview",{attrs:{items:e.unaryEntity.children,"item-key":"_id","item-text":"originalKey",open:e.unaryEntity.openNodes},scopedSlots:e._u([{key:"append",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(r,t)}}},[n("v-icon",[e._v("add")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeTarget(r)}}},[n("v-icon",[e._v("forward")])],1)]}}])})],1),n("span",{staticClass:"subheading"},[e._v("Entity-Entity Relation "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleOntologyTree("binaryEntity")}}},[n("v-icon",[e._v(e._s(e.toggleBinaryEntity?"expand_more":"expand_less"))])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(e.binaryEntity,t)}}},[n("v-icon",[e._v("add")])],1)],1),n("v-flex",{staticStyle:{"overflow-y":"scoll"}},[n("v-treeview",{attrs:{items:e.binaryEntity.children,"item-key":"_id","item-text":"originalKey",open:e.binaryEntity.openNodes},scopedSlots:e._u([{key:"append",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addNewTarget(r,t)}}},[n("v-icon",[e._v("add")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeTarget(r)}}},[n("v-icon",[e._v("forward")])],1)]}}])})],1)],1)],1)],1)],1),n("AddTarget",{attrs:{dialog:e.addTargetToggle},on:{"update:dialog":function(t){e.addTargetToggle=t}}})],1)},U=[],$=n("774e"),C=n.n($),j=n("b6d0"),F=n.n(j),K=n("5d73"),B=n.n(K),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Add New Relation")]),n("v-card-text",[n("v-form",{attrs:{"lazy-validation":""}},[n("v-container",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.newTargetName,callback:function(t){e.newTargetName=t},expression:"newTargetName"}}),n("v-text-field",{attrs:{label:"Description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),n("v-switch",{attrs:{label:"Symmetrical"}}),n("v-select",{attrs:{multiple:"",label:"First Slot Types",items:e.entityTypes}}),n("v-select",{attrs:{multiple:"",label:"Second Slot Types",items:e.entityTypes}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",flat:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){return e.addOntologyNode()}}},[e._v("Add")])],1)],1)],1)],1)},D=[],J={name:"addTargetDialog",props:{dialog:{required:!0,type:Boolean}},data:function(){return{entityTypes:["PER","ORG","GPE","LOC","WEA","VEH","FAC"],newTargetName:"",description:""}},methods:{closeDialog:function(){this.$parent.$emit("closeDialog","dialog")},addOntologyNode:function(){var e=this,t=function(e){while(e.parent)e=e.parent;return e},n=t(this.$parent.addTargetFocusRoot).isUnaryTarget,r=t(this.$parent.addTargetFocusRoot).isEventTarget;f.addOntologyNode(this.$parent.addTargetFocusRoot._id,this.newTargetName,this.description,n,r).then(function(t){f.addTargetAndScoreTable(e.newTargetName,e.description,"","",!1,n,r).then(function(t){e.newTargetName="",e.description="",e.closeDialog()},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})}}},H=J,q=n("2877"),W=Object(q["a"])(H,G,D,!1,null,"3f462c4b",null),V=W.exports,Z={name:"OntologyView",store:I,computed:{ontologyPanelToggle:function(){return this.$store.getters.displayOntologyPanel}},methods:{bindParent:function(e){var t=this;e.parent=null;var n=!0,r=!1,a=void 0;try{for(var o,i=B()(e.children);!(n=(o=i.next()).done);n=!0){var s=o.value;t.bindParent(s),s.parent=e}}catch(c){r=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}},addNewTarget:function(e,t){this.addTargetFocusRoot=e,this.addTargetToggle=!this.addTargetToggle},toggleOntologyPanel:function(){this.$store.commit("toggleDisplayOntologyPanel")},reloadOntologyTree:function(){var e=this;f.getOntology().then(function(t){e.unaryEvent.children=t.data.unaryEvent.children,e.bindParent(e.unaryEvent),e.binaryEvent.children=t.data.binaryEvent.children,e.bindParent(e.binaryEvent),e.binaryEntity.children=t.data.binaryEntity.children,e.bindParent(e.binaryEntity),e.unaryEntity.children=t.data.unaryEntity.children,e.bindParent(e.unaryEntity)},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},dfsGetAllChildren:function(e,t){t.add(e.originalKey);var n=!0,r=!1,a=void 0;try{for(var o,i=B()(e.children);!(n=(o=i.next()).done);n=!0){var s=o.value;this.dfsGetAllChildren(s,t)}}catch(c){r=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}},changeTarget:function(e){var t=this,n=e;while(n.parent)n=n.parent;var r=n.isUnaryTarget,a=n.isEventTarget,o=new F.a,i=!0,s=!1,l=void 0;try{for(var d,u=B()(n.children);!(i=(d=u.next()).done);i=!0){var g=d.value;this.dfsGetAllChildren(g,o)}}catch(f){s=!0,l=f}finally{try{i||null==u.return||u.return()}finally{if(s)throw l}}this.$store.dispatch("loadTargetAndScoreTable",{targetName:e.originalKey,description:"NA",slot0EntityTypes:"",slot1EntityTypes:"",symmetric:!1,isUnaryTarget:r,isEventTarget:a,tryCreateTarget:!0}).then(function(e){t.$store.commit("changeSiblingOntologyTypes",{siblingOntologyTypes:C()(o)}),t.toggleOntologyPanel()},function(e){t.$store.commit("changeSiblingOntologyTypes",{siblingOntologyTypes:[]}),t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},toggleTreeOn:function(e,t){t.push(e._id);var n=!0,r=!1,a=void 0;try{for(var o,i=B()(e.children);!(n=(o=i.next()).done);n=!0){var s=o.value;this.toggleTreeOn(s,t)}}catch(c){r=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}},toggleOntologyTree:function(e){switch(e){case"unaryEvent":this.toggleUnaryEvent?this.toggleTreeOn(this.unaryEvent,this.unaryEvent.openNodes):this.unaryEvent.openNodes=[],this.toggleUnaryEvent=!this.toggleUnaryEvent;break;case"binaryEvent":this.toggleBinaryEvent?this.toggleTreeOn(this.binaryEvent,this.binaryEvent.openNodes):this.binaryEvent.openNodes=[],this.toggleBinaryEvent=!this.toggleBinaryEvent;break;case"binaryEntity":this.toggleBinaryEntity?this.toggleTreeOn(this.binaryEntity,this.binaryEntity.openNodes):this.binaryEntity.openNodes=[],this.toggleBinaryEntity=!this.toggleBinaryEntity;break;case"unaryEntity":this.toggleUnaryEntity?this.toggleTreeOn(this.unaryEntity,this.unaryEntity.openNodes):this.unaryEntity.openNodes=[],this.toggleUnaryEntity=!this.toggleUnaryEntity;break}}},mounted:function(){this.reloadOntologyTree()},created:function(){var e=this;this.$on("closeDialog",function(t){e.addTargetToggle=!e.addTargetToggle,e.reloadOntologyTree()})},data:function(){var e=this,t={originalKey:"Unary Event",_id:"Event_001",children:[],isUnaryTarget:!0,isEventTarget:!0,openNodes:[]};e.bindParent(t);var n={_id:"Binary-Event_001",originalKey:"Binary Event",children:[],isUnaryTarget:!1,isEventTarget:!0,openNodes:[]};e.bindParent(n);var r={originalKey:"Binary Entity",_id:"Binary-Entity_001",children:[],isUnaryTarget:!1,isEventTarget:!1,openNodes:[]};e.bindParent(r);var a={originalKey:"Unary Entity",_id:"Unary-Entity_001",children:[],isUnaryTarget:!0,isEventTarget:!1,openNodes:[]};return e.bindParent(a),{unaryEvent:t,binaryEvent:n,binaryEntity:r,unaryEntity:a,addTargetToggle:!1,addTargetFocusRoot:null,toggleUnaryEvent:!1,toggleBinaryEvent:!1,toggleBinaryEntity:!1,toggleUnaryEntity:!1}},components:{AddTarget:V}},Y=Z,Q=(n("b339"),Object(q["a"])(Y,z,U,!1,null,"77441e58",null)),X=Q.exports,ee=n("512e"),te=n.n(ee),ne=(n("c1ea"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("splitpanes",{staticStyle:{display:"flex","flex-direction":"row","flex-basis":"50%"}},[n("LearnitPatternPanel"),n("SeedPanel")],1)}),re=[],ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"learnitListcard"},[n("v-card-title",{staticClass:"subheading",attrs:{"primary-title":""}},[e._v("\n\t\tPatterns ( "+e._s(e.numberOfFrozenPattern)+"/"+e._s(e.numberOfPattern)+" )\n\t\t"),n("v-spacer"),n("v-select",{attrs:{items:e.sortingMethodCandidates,label:"Sorting Method",disabled:e.targetName.length<1,"item-text":"uitext","item-value":"backendtext"},model:{value:e.sortingMethod,callback:function(t){e.sortingMethod=t},expression:"sortingMethod"}}),n("v-switch",{attrs:{label:"Reverse",disabled:e.targetName.length<1},model:{value:e.sortingReverse,callback:function(t){e.sortingReverse=t},expression:"sortingReverse"}})],1),e.showAddPanel?n("div",{staticStyle:{display:"flex"}},[n("v-text-field",{attrs:{label:"Keyword"},model:{value:e.patternKeyword,callback:function(t){e.patternKeyword=t},expression:"patternKeyword"}}),n("v-btn",{on:{click:e.searchPatternsByKeywords}},[e._v("Search")])],1):e._e(),n("v-list",{staticStyle:{"overflow-y":"scroll","flex-basis":"70%"}},e._l(e.patternList,function(t,r){return n("v-list-tile",{key:r,class:{frozenGood:e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().precision>=.5,frozenBad:e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().precision<.5,selected:t===e.selectedPattern}},[n("v-list-tile-content",{on:{click:function(n){return e.choosePattern(t)}}},[e._v(e._s(e.currentTable[t].toString()))]),!e.currentTable[t].getOriginalScoreTable().frozen||e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().precision>=.5?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.frozen(t,!1)}}},[n("v-icon",[e._v("remove")])],1)],1):e._e(),!e.currentTable[t].getOriginalScoreTable().frozen||e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().precision<.5?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.frozen(t,!0)}}},[n("v-icon",[e._v("add")])],1)],1):e._e(),e.currentTable[t].getOriginalScoreTable().frozen?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.unfrozen(t)}}},[n("v-icon",[e._v("clear")])],1)],1):e._e()],1)}),1),e.targetName.length>0&&e.showTargetAndScoreTable?n("div",{staticClass:"scoreTableButtonGroup"},[n("v-btn",{on:{click:function(t){return e.toggleAddNew()}}},[e._v("Add New")]),n("v-btn",{on:{click:function(t){return e.proposeNewLearnitPatterns()}}},[e._v("Propose")]),n("v-btn",{on:{click:function(t){return e.getSimilarLearnitPatterns()}}},[e._v("Similar")])],1):e._e(),e.targetName.length>0&&!e.showTargetAndScoreTable?n("div",{staticClass:"scoreTableButtonGroup"},[n("v-btn",{on:{click:function(t){return e.finishAddPattern()}}},[e._v("Save and Back")])],1):e._e()],1)},oe=[],ie=(n("55dd"),n("7f7f"),{name:"LearnitPatternPanel",store:I,data:function(){return{showTargetAndScoreTable:!0,showAddPanel:!1,patternKeyword:"",patternCandidates:{},sortingMethod:"patternPrecision",sortingReverse:!0}},methods:{unfrozen:function(e){var t=this;if(this.showTargetAndScoreTable){var n=this.currentTable[e],r=!1,a=!1;this.$store.dispatch("markPattern",{pattern:n,isFrozen:r,isGood:a})}else{var o=this.currentTable[e],i=!1,s=!1;f.markPattern(this.targetName,o.toString(),i,s).then(function(n){var r=t.currentTable[e].getOriginalScoreTable();r.frozen=!1},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)})})}},frozen:function(e,t){var n=this;if(this.showTargetAndScoreTable){var r=this.currentTable[e],a=!0;this.$store.dispatch("markPattern",{pattern:r,isFrozen:a,isGood:t})}else{var o=this.currentTable[e],i=!0;f.markPattern(this.targetName,o.toString(),i,t).then(function(r){var a=n.currentTable[e].getOriginalScoreTable();a.frozen=!0,a.precision=t?.95:.05},function(e){n.$store.commit("changeErrorMessage",{errorMessage:c()(e)})})}},toggleAddNew:function(){this.showTargetAndScoreTable=!1,this.showAddPanel=!0},searchPatternsByKeywords:function(){var e=this;f.getPatternsByKeyword(this.targetName,this.patternKeyword,g.MaxNumberOfPatterns).then(function(t){var n={},r=!0,a=!1,o=void 0;try{for(var i,s=B()(t.data);!(r=(i=s.next()).done);r=!0){var c=i.value,l=L.normalizedPattern.fromJson(c,{frozen:!1,precision:0});n[l.key]=l}}catch(d){a=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e.patternCandidates=n},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},finishAddPattern:function(){this.$store.dispatch("loadTargetAndScoreTable",{targetName:this.targetName}),this.showAddPanel=!1,this.showTargetAndScoreTable=!0,this.patternCandidates={},this.patternKeyword=""},choosePattern:function(e){this.$store.commit("updateMatchInfoDisplay",{type:L.normalizedPattern.name,key:e,learnitObservationObj:this.currentTable[e]})},proposeNewLearnitPatterns:function(){var e=this;this.patternCandidates={},this.showTargetAndScoreTable=!1,this.showAddPanel=!1,f.proposeLearnitPatterns(this.targetName).then(function(t){e.patternCandidates=L.loadPatternScoreTable(t.data.data)},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},getSimilarLearnitPatterns:function(){var e=this;this.patternCandidates={},this.showTargetAndScoreTable=!1,this.showAddPanel=!1,f.getSimilarLearnitPatterns(this.targetName).then(function(t){e.patternCandidates=L.loadPatternScoreTable(t.data.data)},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})}},props:{},watch:{targetName:function(e,t){t!==e&&(this.showTargetAndScoreTable=!0,this.showAddPanel=!1,this.patternKeyword="",this.patternCandidates={})}},computed:{targetName:function(){return this.$store.getters.targetName},numberOfPattern:function(){return m()(this.currentTable).length},numberOfFrozenPattern:function(){var e=m()(this.currentTable),t=e.filter(L.filterPatternList(!0,!0,this.currentTable)),n=e.filter(L.filterPatternList(!0,!1,this.currentTable));return[].concat(t.slice(0,g.MaxNumberOfPatterns),n.slice(0,g.MaxNumberOfPatterns)).length},patternList:function(){var e=m()(this.currentTable),t=e.filter(L.filterPatternList(!0,!0,this.currentTable)).sort(L.sortPatternList("undefined"===typeof this.sortingMethod?"precision":this.sortingMethod,this.sortingReverse,this.currentTable)),n=e.filter(L.filterPatternList(!1,null,this.currentTable)).sort(L.sortPatternList("undefined"===typeof this.sortingMethod?"precision":this.sortingMethod,this.sortingReverse,this.currentTable)),r=e.filter(L.filterPatternList(!0,!1,this.currentTable)).sort(L.sortPatternList("undefined"===typeof this.sortingMethod?"precision":this.sortingMethod,this.sortingReverse,this.currentTable));return[].concat(t.slice(0,g.MaxNumberOfPatterns),n.slice(0,g.MaxNumberOfPatterns),r.slice(0,g.MaxNumberOfPatterns))},currentTable:function(){return this.showTargetAndScoreTable?this.$store.getters.patternScoreTable:this.patternCandidates},selectedPattern:function(){return this.$store.getters.targetAndScoreTableChosenItem.type===L.normalizedPattern.name?this.$store.getters.targetAndScoreTableChosenItem.key:null},sortingMethodCandidates:function(){return g.patternScoreTableSortableKeys}}}),se=ie,ce=Object(q["a"])(se,ae,oe,!1,null,"75d73146",null),le=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"learnitListcard"},[n("v-card-title",{staticClass:"subheading",attrs:{"primary-title":""}},[e._v("\n\t\tPairs ( "+e._s(e.numberOfFrozenSeed)+"/"+e._s(e.numberOfSeed)+" )\n\t\t"),n("v-spacer"),n("v-select",{attrs:{items:e.sortingMethodCandidates,label:"Sorting Method",disabled:e.targetName.length<1,"item-text":"uitext","item-value":"backendtext"},model:{value:e.sortingMethod,callback:function(t){e.sortingMethod=t},expression:"sortingMethod"}}),n("v-switch",{attrs:{label:"Reverse",disabled:e.targetName.length<1},model:{value:e.sortingReverse,callback:function(t){e.sortingReverse=t},expression:"sortingReverse"}})],1),e.showAddPanel?n("div",{staticStyle:{display:"flex"}},[n("v-text-field",{attrs:{label:"Slot0"},model:{value:e.seedSlot0Keyword,callback:function(t){e.seedSlot0Keyword=t},expression:"seedSlot0Keyword"}}),n("v-text-field",{attrs:{label:"Slot1"},model:{value:e.seedSlot1Keyword,callback:function(t){e.seedSlot1Keyword=t},expression:"seedSlot1Keyword"}}),n("v-btn",{on:{click:function(t){return e.searchSeedsBySlots()}}},[e._v("Search")])],1):e._e(),n("v-list",{staticStyle:{"overflow-y":"scroll","flex-basis":"70%"}},e._l(e.seedList,function(t,r){return n("v-list-tile",{key:r,class:{frozenGood:e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().score>=.5,frozenBad:e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().score<.5,selected:t===e.selectedSeed}},[n("v-list-tile-content",{on:{click:function(n){return e.chooseSeed(t)}}},[e._v(e._s(e.currentTable[t].toString()))]),!e.currentTable[t].getOriginalScoreTable().frozen||e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().score>=.5?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.frozen(t,!1)}}},[n("v-icon",[e._v("remove")])],1)],1):e._e(),!e.currentTable[t].getOriginalScoreTable().frozen||e.currentTable[t].getOriginalScoreTable().frozen&&e.currentTable[t].getOriginalScoreTable().score<.5?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.frozen(t,!0)}}},[n("v-icon",[e._v("add")])],1)],1):e._e(),e.currentTable[t].getOriginalScoreTable().frozen?n("v-list-tile-avatar",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.unfrozen(t)}}},[n("v-icon",[e._v("clear")])],1)],1):e._e()],1)}),1),e.targetName.length>0&&e.showTargetAndScoreTable?n("div",{staticClass:"scoreTableButtonGroup"},[n("v-btn",{on:{click:function(t){return e.toggleAddNew()}}},[e._v("Add New")]),n("v-btn",{on:{click:function(t){return e.proposeNewSeeds()}}},[e._v("Propose")]),n("v-btn",{on:{click:function(t){return e.getSimilarSeeds()}}},[e._v("Similar")])],1):e._e(),e.targetName.length>0&&!e.showTargetAndScoreTable?n("div",{staticClass:"scoreTableButtonGroup"},[n("v-btn",{on:{click:function(t){return e.finishAddSeed()}}},[e._v("Save and Back")])],1):e._e()],1)},ue=[],ge={name:"SeedPanel",store:I,data:function(){return{showTargetAndScoreTable:!0,seedCandidates:{},showAddPanel:!1,seedSlot0Keyword:"",seedSlot1Keyword:"",sortingMethod:"seedPrecision",sortingReverse:!0}},methods:{chooseSeed:function(e){this.$store.commit("updateMatchInfoDisplay",{type:M.Seed.name,key:e,learnitObservationObj:this.currentTable[e]})},unfrozen:function(e){var t=this;if(this.showTargetAndScoreTable){var n=this.currentTable[e],r=!1,a=!1;this.$store.dispatch("markSeed",{seed:n,isFrozen:r,isGood:a})}else{var o=this.currentTable[e],i=!1,s=!1;f.markSeed(this.targetName,o.getOriginalObjJson(),i,s).then(function(n){var r=t.currentTable[e].getOriginalScoreTable();r.frozen=!1},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)})})}},frozen:function(e,t){var n=this;if(this.showTargetAndScoreTable){var r=this.currentTable[e],a=!0;this.$store.dispatch("markSeed",{seed:r,isFrozen:a,isGood:t})}else{var o=this.currentTable[e],i=!0;f.markSeed(this.targetName,o.getOriginalObjJson(),i,t).then(function(r){var a=n.currentTable[e].getOriginalScoreTable();a.frozen=!0,a.score=t?.95:.05},function(e){n.$store.commit("changeErrorMessage",{errorMessage:c()(e)})})}},toggleAddNew:function(){this.showTargetAndScoreTable=!1,this.showAddPanel=!0},finishAddSeed:function(){this.$store.dispatch("loadTargetAndScoreTable",{targetName:this.targetName}),this.showAddPanel=!1,this.showTargetAndScoreTable=!0,this.seedCandidates={},this.seedSlot0Keyword="",this.seedSlot1Keyword=""},searchSeedsBySlots:function(){var e=this;f.getSeedsBySlot(this.targetName,this.seedSlot0Keyword,this.seedSlot1Keyword,g.MaxNumberOfSeeds).then(function(t){var n={},r=!0,a=!1,o=void 0;try{for(var i,s=B()(t.data);!(r=(i=s.next()).done);r=!0){var c=i.value,l=M.Seed.fromJson(c,{frozen:!1,precision:0});n[l.key]=l}}catch(d){a=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e.seedCandidates=n},function(e){})},proposeNewSeeds:function(){var e=this;this.seedCandidates={},this.showTargetAndScoreTable=!1,this.showAddPanel=!1,f.proposeSeeds(this.targetName).then(function(t){e.seedCandidates=M.loadSeedScoreTable(t.data.data)},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},getSimilarSeeds:function(){var e=this;this.seedCandidates={},this.showTargetAndScoreTable=!1,this.showAddPanel=!1,f.getSimilarSeeds(this.targetName).then(function(t){e.seedCandidates=M.loadSeedScoreTable(t.data.data)},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})}},props:{},computed:{targetName:function(){return this.$store.getters.targetName},seedList:function(){var e=m()(this.currentTable),t=e.filter(M.filterSeedList(!0,!0,this.currentTable)).sort(M.sortSeedList("undefined"===typeof this.sortingMethod?"score":this.sortingMethod,this.sortingReverse,this.currentTable)),n=e.filter(M.filterSeedList(!1,null,this.currentTable)).sort(M.sortSeedList("undefined"===typeof this.sortingMethod?"score":this.sortingMethod,this.sortingReverse,this.currentTable)),r=e.filter(M.filterSeedList(!0,!1,this.currentTable)).sort(M.sortSeedList("undefined"===typeof this.sortingMethod?"score":this.sortingMethod,this.sortingReverse,this.currentTable));return[].concat(t.slice(0,g.MaxNumberOfSeeds),n.slice(0,g.MaxNumberOfSeeds),r.slice(0,g.MaxNumberOfSeeds))},currentTable:function(){return this.showTargetAndScoreTable?this.$store.getters.seedScoreTable:this.seedCandidates},selectedSeed:function(){return this.$store.getters.targetAndScoreTableChosenItem.type===M.Seed.name?this.$store.getters.targetAndScoreTableChosenItem.key:null},numberOfFrozenSeed:function(){var e=m()(this.currentTable),t=e.filter(M.filterSeedList(!0,!0,this.currentTable)),n=e.filter(M.filterSeedList(!0,!1,this.currentTable));return[].concat(t.slice(0,g.MaxNumberOfSeeds),n.slice(0,g.MaxNumberOfSeeds)).length},numberOfSeed:function(){return m()(this.currentTable).length},sortingMethodCandidates:function(){return g.seedScoreTableSortableKeys}},watch:{targetName:function(e,t){e!==t&&(this.showAddPanel=!1,this.showTargetAndScoreTable=!0,this.seedCandidates={},this.seedSlot0Keyword="",this.seedSlot1Keyword="")}}},fe=ge,he=Object(q["a"])(fe,de,ue,!1,null,"d35e8678",null),be=he.exports,ve={name:"TargetAndScoreTable",data:function(){return{}},methods:{},components:{LearnitPatternPanel:le,SeedPanel:be,Splitpanes:te.a},created:function(){},props:{},computed:{}},ye=ve,me=(n("71e0"),Object(q["a"])(ye,ne,re,!1,null,null,null)),Te=me.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"learnitListcard"},[n("v-card-title",{staticClass:"subheading",attrs:{"primary-title":""}},[e._v("Instances ( "+e._s(e.numberOfFrozenInstance)+"/"+e._s(e.numberOfInstances)+" )")]),n("div",{staticStyle:{"overflow-y":"scroll","flex-basis":"85%","flex-grow":"1"}},[e.inOTHERTarget?n("v-select",{attrs:{items:e.siblingOntologyTypes,label:"Mark all LearnIt Observation Instances","browser-autocomplete":"off"},on:{change:function(t){return e.changeInstanceTypeInBatch(t)}}}):e._e(),n("div",{staticStyle:{height:"45px"}}),e._l(e.instanceList,function(t,r){return n("div",{key:r},[n("p",{domProps:{innerHTML:e._s(e.instances[t].htmlStr)}}),n("v-spacer"),n("v-flex",{class:{frozenGood:e.instances[t].relationType===e.targetName&&e.instances[t].annotation===e.constants.instanceFrozenGoodStr,frozenBad:e.instances[t].relationType===e.targetName&&e.instances[t].annotation===e.constants.instanceFrozenBadStr}},[e.inOTHERTarget?e._e():n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.markInstance(t,"bad")}}},[n("v-icon",[e._v("remove")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.markInstance(t,"good")}}},[n("v-icon",[e._v("add")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.unMarkInstance(t)}}},[n("v-icon",[e._v("clear")])],1)],1),e.inOTHERTarget?n("v-select",{attrs:{items:e.siblingOntologyTypes,label:"Choose Type","browser-autocomplete":"off",value:e.instances[t].relationType},on:{change:function(n){return e.changeInstanceType(t,n)}}}):e._e()],1)],1)})],2)],1)},Se=[],Oe=n("75fc"),ke=(n("6762"),n("2fdb"),n("768b")),_e=n("2d1f"),Pe=n.n(_e),we=function(){function e(t,n,r,a){Object(T["a"])(this,e),this.instanceIdentifier=t,this.htmlStr=n,this.annotation=r,this.relationType=a}return Object(p["a"])(e,[{key:"toString",value:function(){return this.instanceHTML}}],[{key:"fromJson",value:function(t){return new e(t.instanceIdentifier,t.htmlStr,t.annotation,t.relationType)}}]),e}(),Ee={Instance:we,loadInstanceIdentifierTable:function(e){for(var t={},n=e.InstanceIdentifierSet.length,r=0;r<n;++r)t[c()(e.InstanceIdentifierSet[r])]={instanceIdentifier:e.InstanceIdentifierSet[r],htmlStr:e.HTMLStringSet[r],annotation:e.AnnotationSet[r],relationType:e.RelationNameSet[r]};return t}},Me={name:"InstancePanel",store:I,data:function(){return{instances:{},scoreTable:{}}},methods:{markInstance:function(e,t){var n=this,r=this.instances[e],a=r.instanceIdentifier,o="good"===t?g.instanceFrozenGoodStr:g.instanceFrozenBadStr;f.markInstance(this.targetName,a,t).then(function(e){r.annotation=o},function(e){n.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},unMarkInstance:function(e){var t=this,n=this.instances[e],r=n.instanceIdentifier;f.unMarkInstance(this.targetName,r).then(function(e){n.annotation=g.instanceNoFrozenStr},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},changeInstanceType:function(e,t){var n=this,r=t,a=this.instances[e],o=a.instanceIdentifier;f.markInstanceFromOther(r,o).then(function(e){a.relationType=r,a.annotation=g.instanceFrozenGoodStr},function(e){n.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},changeInstanceTypeInBatch:function(e){var t=this,n=e,r=this.targetAndScoreTableChosenItem.learnitObservationObj;r instanceof M.Seed?f.markInstanceBySeedFromOther(n,r.getOriginalObjJson()).then(function(e){t.loadInstancesFromSeed(r)},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)}):r instanceof L.normalizedPattern&&f.markInstanceByPatternFromOther(n,r.getOriginalObjJson().toIDString).then(function(e){t.loadInstancesFromLearnitPatterns(r)},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},loadInstancesFromSeed:function(e){var t=this;f.getSeedInstances(this.targetName,e.getOriginalObjJson(),g.MaxNumberOfSeeds,this.inOTHERTarget).then(function(n){var r=Ee.loadInstanceIdentifierTable(n.data);t.instances=r;for(var a=Pe()(e.getOriginalScoreTable()),o=0;o<a.length;o++){var i=Object(ke["a"])(a[o],2),s=i[0],c=i[1];g.seedScoreTableDisplayableKeys.includes(s)&&(t.scoreTable[s]=c)}},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})},loadInstancesFromLearnitPatterns:function(e){var t=this;f.getPatternInstances(this.targetName,e.getOriginalObjJson().toIDString,this.inOTHERTarget?g.MaxNumberOfInstanceFromOTHER:g.MaxNumberOfInstance,this.inOTHERTarget).then(function(n){var r=Ee.loadInstanceIdentifierTable(n.data);t.instances=r;for(var a=Pe()(e.getOriginalScoreTable()),o=0;o<a.length;o++){var i=Object(ke["a"])(a[o],2),s=i[0],c=i[1];g.patternScoreTableDisplayableKeys.includes(s)&&(t.scoreTable[s]=c)}},function(e){t.$store.commit("changeErrorMessage",{errorMessage:c()(e)}),console.log(e)})}},created:function(){},mounted:function(){},props:{},computed:{instanceList:function(){return m()(this.instances)},targetAndScoreTableChosenItem:function(){return this.$store.getters.targetAndScoreTableChosenItem},numberOfInstances:function(){return this.instanceList.length},numberOfFrozenInstance:function(){return this.instanceList.length},constants:function(){return g},siblingOntologyTypes:function(){var e=[];return e.push.apply(e,Object(Oe["a"])(this.$store.getters.siblingOntologyTypes)),e},targetName:function(){return this.$store.getters.targetName},inOTHERTarget:function(){return this.targetName===g.OTHERTargetName}},watch:{targetName:function(e,t){e!==t&&(this.scoreTable={},this.instances={})},targetAndScoreTableChosenItem:function(e,t){if(null!==e.type){e.type;var n=e.learnitObservationObj;this.scoreTable={},this.instances={},n instanceof M.Seed?(this.$store.commit("changePendingMessage",{pendingMessage:"We're getting instances."}),this.loadInstancesFromSeed(n)):n instanceof L.normalizedPattern&&(this.$store.commit("changePendingMessage",{pendingMessage:"We're getting instances."}),this.loadInstancesFromLearnitPatterns(n))}}}},Ne=Me,xe=Object(q["a"])(Ne,pe,Se,!1,null,"67cefcf3",null),Ae=xe.exports,Le={name:"app",store:I,methods:{openOntologyPanel:function(){this.$store.commit("toggleDisplayOntologyPanel")},saveProgress:function(){var e=this;f.saveProgress().then(function(t){e.$store.commit("changePendingMessage",{pendingMessage:"Your extractors have been saved."})},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},loadTargetAndScoreTable:function(){this.$store.dispatch("loadTargetAndScoreTable",{targetName:this.$store.getters.targetName})},clearUnaccept:function(){var e=this;f.clearUnknown(this.$store.getters.targetName).then(function(t){e.loadTargetAndScoreTable()},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})},clearAll:function(){var e=this;f.clearAll(this.$store.getters.targetName).then(function(t){e.loadTargetAndScoreTable()},function(t){e.$store.commit("changeErrorMessage",{errorMessage:c()(t)}),console.log(t)})}},components:{OntologyView:X,TargetAndScoreTable:Te,InstancePanel:Ae,Splitpanes:te.a},data:function(){return{pendingSnackbar:!1,pendingSnackbarTimeout:4e3,pendingSnackbarText:"",errorSnackbar:!1,errorSnackbarTimeout:4e3,errorSnackbarText:""}},computed:{targetName:function(){return this.$store.getters.targetName},pendingMessage:function(){return this.$store.getters.pendingMessage},errorMessage:function(){return this.$store.getters.errorMessage}},created:function(){},watch:{pendingMessage:function(e,t){e&&e.length>0?(this.pendingSnackbarText=e,this.pendingSnackbar=!0):e&&0!=e.length||(this.pendingSnackbar=!1)},pendingSnackbar:function(e,t){(!e||e.length<1)&&this.$store.commit("changePendingMessage",{pendingMessage:""})},errorMessage:function(e,t){e&&e.length>0?(this.errorSnackbarText=e,this.errorSnackbar=!0):e&&0!=e.length||(this.errorSnackbar=!1)},errorSnackbar:function(e,t){(!e||e.length<1)&&this.$store.commit("changeErrorMessage",{errorMessage:""})}}},Re=Le,Ie=(n("034f"),Object(q["a"])(Re,o,i,!1,null,null,null)),ze=Ie.exports,Ue=n("ce5b"),$e=n.n(Ue);n("bf40");r["default"].use(a["a"]),r["default"].use($e.a,{iconfont:"md"}),r["default"].config.productionTip=!1;var Ce=new r["default"]({render:function(e){return e(ze)}});Ce.$mount("#app")},"64a9":function(e,t,n){},"71e0":function(e,t,n){"use strict";var r=n("c6cb"),a=n.n(r);a.a},"75f0":function(e,t,n){},b339:function(e,t,n){"use strict";var r=n("75f0"),a=n.n(r);a.a},c6cb:function(e,t,n){}});
//# sourceMappingURL=app.1147d74c.js.map